<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>粵語拼音轉換</title>
    <link rel="stylesheet" type="text/css" href="css/concise.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/pingyam.css"/>
    <script src="js/pingyam.js" type="text/javascript"></script>
    <script src="js/data.js" type="text/javascript"></script>
    <script src="js/strings.js" type="text/javascript"></script>
    <script type="text/javascript">
      // If the page is hosted on GitHub Pages like https://<user>.github.io/<repo>/
      // rewrite the "原始碼" link (data-tr="src") to point to
      // https://github.com/<user>/<repo>/ so visitors can find the repo.
      function updateRepoLink() {
        try {
          var host = window.location.host; // e.g. dohliam.github.io
          var path = window.location.pathname; // e.g. /pingyam-js/
          var m = host.match(/^([^.]+)\.github\.io$/);
          if (!m) return; // not on github pages
          var user = m[1];
          // repo name: if path is /repo/ or /repo/index.html etc, take first segment
          var seg = path.replace(/^\//, '').split('/')[0] || '';
          var repo = seg || 'pingyam-js';
          var repoUrl = 'https://github.com/' + user + '/' + repo + '/';
          var link = document.querySelector('a.tr-string[data-tr="src"]');
          if (link) link.href = repoUrl;
        } catch (e) {
          // silent fail
        }
      }
    </script>
  </head>
  <body onload="window.converttext.focus(); translate_string(document.getElementById('lang_selector').value); updateRepoLink();">
    <header>
      <a class="tr-string" data-tr="src" href="https://github.com/dohliam/pingyam-js">原始碼</a> · 
      <select name="lang_selector" id="lang_selector" accesskey="l" onchange="translate_string(this.value)">
        <option class="tr-string" data-tr="lang" value="" disabled="">Language</option>
        <option value="zht">中文（繁體）</option>
        <option value="zhs">中文（简体）</option>
        <option value="en" SELECTED>English</option>
      </select>
    </header>
    <h1 class="tr-string" data-tr="title">粵語拼音轉換</h1>
    <div id="converter">
      <textarea class="tr-string" data-tr="input" id="converttext" rows="10" cols="40" placeholder="輸入粵語拼音" accesskey="i"
        oninput="yuepinzh()"
        onchange="yuepinzh()"
        onpaste="setTimeout(yuepinzh,0)"
        oncut="setTimeout(yuepinzh,0)"
        ondrop="setTimeout(yuepinzh,0)"></textarea><br>
      <span class="tr-string" data-tr="orig">原文：</span>
      <select id="frompin" onchange="yuepinzh()" accesskey="f">
        <option class="tr-string" data-tr="py0" value="0">耶魯拼音（數字）</option>
        <option class="tr-string" data-tr="py1" value="1">耶魯拼音（調符）</option>
        <option class="tr-string" data-tr="py2" value="2">教院拼音</option>
        <option class="tr-string" data-tr="py3" value="3">黃錫凌（數字）</option>
        <option class="tr-string" data-tr="py4" value="4">黃錫凌（調符）</option>
        <option class="tr-string" data-tr="py5" value="5">國際音標</option>
        <option class="tr-string" data-tr="py6" value="6" SELECTED>粵拼</option>
        <option class="tr-string" data-tr="py7" value="7">廣州拼音</option>
        <option class="tr-string" data-tr="py8" value="8">劉錫祥</option>
        <option class="tr-string" data-tr="py9" value="9">粵語拼音字（數字）</option>
        <option class="tr-string" data-tr="py10" value="10">粵語拼音字（調符）</option>
      </select><br>
      <span class="tr-string" data-tr="out">轉成：</span>
      <select id="topin" onchange="yuepinzh()" accesskey="t">
        <option class="tr-string" data-tr="py0" value="0">耶魯拼音（數字）</option>
        <option class="tr-string" data-tr="py1" value="1" SELECTED>耶魯拼音（調符）</option>
        <option class="tr-string" data-tr="py2" value="2">教院拼音</option>
        <option class="tr-string" data-tr="py3" value="3">黃錫凌（數字）</option>
        <option class="tr-string" data-tr="py4" value="4">黃錫凌（調符）</option>
        <option class="tr-string" data-tr="py5" value="5">國際音標</option>
        <option class="tr-string" data-tr="py6" value="6">粵拼</option>
        <option class="tr-string" data-tr="py7" value="7">廣州拼音</option>
        <option class="tr-string" data-tr="py8" value="8">劉錫祥</option>
        <option class="tr-string" data-tr="py9" value="9">粵語拼音字（數字）</option>
        <option class="tr-string" data-tr="py10" value="10">粵語拼音字（調符）</option>
      </select><br>

      <button class="tr-string" data-tr="convert" type="button" onclick="yuepinzh()">轉換</button><br>

      <div id="rcontainer" style="display:none">
        <div id="rheader"><h3 class="tr-string" data-tr="result">結果：</h3></div>
        <textarea id="results" placeholder="" accesskey="o" rows="10" cols="40"></div>
      </div>
    </div>
  </body>
</html>
